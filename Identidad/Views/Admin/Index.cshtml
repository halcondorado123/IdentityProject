@model IEnumerable<AppUsuario>


<style>
    /* Asegúrate de que el botón sea azul */
    .btn-info-custom {
        background-color: #007bff; /* Color azul */
        color: white; /* Texto en blanco */
        border: none; /* Sin borde */
        border-radius: 0.375rem; /* Bordes redondeados */
        padding: 0.5rem 1rem; /* Espaciado interno */
        text-align: center; /* Texto centrado */
        display: inline-block; /* El botón se comporta como un elemento en línea pero con propiedades de bloque */
    }

    /* Contenedor para alinear el botón a la derecha */
    .button-container {
        text-align: center; /* Alinea los elementos al centro */
        margin-bottom: 1rem; /* Espacio debajo del botón */
    }

    /* Color de fondo gris claro para la fila del encabezado */
    .table-header {
        background-color: red; /* Gris claro */
        text-align: center; /* Centra el texto horizontalmente */
    }

        /* Asegúrate de que el texto en los encabezados de la tabla esté centrado */
        .table-header th {
            vertical-align: middle; /* Centra verticalmente el texto en el encabezado */
            min-height: 50px; /* Ajusta según sea necesario */
            padding: 0.5rem; /* Espaciado interno */
        }

    .contain-container {
        width: 100%; /* Asegura que el contenedor ocupe todo el ancho disponible */
        overflow-x: auto; /* Permite el desbordamiento horizontal */
        padding: 20px; /* Espaciado en el contenedor */
    }

    /* Centrar el contenido en las celdas */
    .table td {
        text-align: center;
    }

    /* Estilos personalizados para los botones */
    .btn-custom-primary {
        background-color: #007bff; /* Azul */
        color: white;
        border: none;
        border-radius: 0.375rem;
        padding: 0.5rem 1rem;
        transition: background-color 0.3s;
    }

        .btn-custom-primary:hover {
            background-color: #0056b3; /* Azul más oscuro */
        }

    .btn-custom-danger {
        background-color: #dc3545; /* Rojo */
        color: white;
        border: none;
        border-radius: 0.375rem;
        padding: 0.5rem 1rem;
        transition: background-color 0.3s;
    }

    #searchInput {
        width: 250px; /* Ajusta el valor según sea necesario */
    }

    .input-container {
        display: flex;
        justify-content: flex-end; /* Alinea el contenido al final del contenedor */
    }

    .btn-custom-danger:hover {
        background-color: #c82333; /* Rojo más oscuro */
    }
</style>

<h2 style="text-align: center; margin-top: 2%;">Control de Usuarios</h2>
<p style="text-align:center;">
    En este módulo se podrán llevar a cabo la creación, actualización y eliminación de usuarios de la compañía. Toda la información generada será registrada y dará lugar a un seguimiento en nuestras bases de datos.
</p>

<div class="container">
    <!-- Input de búsqueda -->
    <div class="input-container">
        <input class="form-control my-input" id="searchInput" type="text" placeholder="Buscar...">
    </div>
    <br>


    <!-- SI VE ESTE CODIGO SIGNIFICA QUE ESTE ES EL CORRECTO PARA ARREGLAR LOS ROLES -->
    <!-- Tabla de usuarios -->
    <table class="table table-bordered table-striped" id="myTable">
        <thead>
            <tr class="table-header">
                <th>Acciones</th>
                <th>ID</th>
                <th>Nombre</th>
                <th>Email</th>
            </tr>
        </thead>
        <tbody>
            @foreach (AppUsuario Usuario in Model)
            {
                <tr>
                    <td>
                        <a class="btn btn-sm btn-primary" asp-action="Update" asp-route-id="@Usuario.Id"><i class="fa-solid fa-pen-to-square"></i></a>
                        <form asp-action="Delete" asp-route-id="@Usuario.Id" method="post" style="display:inline;">
                            <button type="submit" class="btn btn-sm btn-danger"><i class="fa-solid fa-trash"></i></button>
                        </form>
                        <a class="btn btn-sm btn-success" asp-action="" asp-route-id="@Usuario.Id"><i class="fa-solid fa-eye"></i></a>
                    </td>
                    <td>@Usuario.Id</td>
                    <td>@Usuario.UserName</td>
                    <td>@Usuario.Email</td>

                </tr>
            }

            <tr id="noResults" style="display: none;">
                <td colspan="4" class="text-center">No se encontraron resultados</td>
            </tr>

        </tbody>
    </table>


</div>

<div class="button-container">
    <a asp-controller="Admin" asp-action="Create" class="btn btn-info btn-info-custom">Crear Usuario</a>
</div>

<!-- Scripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://kit.fontawesome.com/9c9ff965bd.js" crossorigin="anonymous"></script>


<script>
    $(document).ready(function () {
        $("#searchInput").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            var rows = $("#myTable tbody tr");
            var noResults = $("#noResults");

            var found = false;
            rows.each(function () {
                var row = $(this);
                if (row.text().toLowerCase().indexOf(value) > -1) {
                    row.show();
                    found = true;
                } else {
                    row.hide();
                }
            });

            // Show or hide the "No results" row based on whether any rows were found
            if (found) {
                noResults.hide();
            } else {
                noResults.show();
            }
        });
    });
</script>

