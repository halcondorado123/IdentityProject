@model IEnumerable<Microsoft.AspNetCore.Identity.IdentityRole>

<style>
    /* Contenedor para alinear el botón a la derecha */
    .button-container {
        text-align: center; /* Alinea los elementos a la derecha */
        margin-bottom: 1rem; /* Espacio debajo del botón */
    }

    /* Asegúrate de que el botón sea azul */
    .btn-info-custom {
        background-color: #007bff; /* Color azul */
        color: white; /* Texto en blanco */
        border: none; /* Sin borde */
        border-radius: 0.375rem; /* Bordes redondeados */
        padding: 0.5rem 1rem; /* Espaciado interno */
        text-align: center; /* Texto centrado */
        display: inline-block; /* El botón se comporta como un elemento en línea pero con propiedades de bloque */
    }

    /* Color de fondo gris claro para la fila del encabezado */
    .table-header {
        background-color: red; /* Gris claro */
        text-align: center; /* Centra el texto horizontalmente */
    }

        /* Asegúrate de que el texto en los encabezados de la tabla esté centrado */
        .table-header th {
            vertical-align: middle; /* Centra verticalmente el texto en el encabezado */
        }

    .contain-container {
        width: 100%; /* Asegura que el contenedor ocupe todo el ancho disponible */
        overflow: auto; /* Asegura que no haya problemas de desbordamiento */
    }

    /* Centrar el contenido en las celdas */
    .table td {
        text-align: center;
    }

    /* Clase repetida, verificar su simplificación*/
    #searchInput {
        width: 250px; /* Ajusta el valor según sea necesario */
    }

    .input-container {
        display: flex;
        justify-content: flex-end; /* Alinea el contenido al final del contenedor */
    }

</style>


<h1 class="text-black">Roles Empleados</h1>

<!-- Input de búsqueda -->
<div class="input-container">
    <input class="form-control my-input" id="searchInput" type="text" placeholder="Buscar...">
</div>
<br>

<table class="table table-bordered table-striped" id="myTable">
    <thead>
        <tr class="table-header">
            <th>Acciones</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Users</th>
        </tr>
    </thead>
    @foreach (var rol in Model)
    {
        <tr>
            <td>
                <a class="btn btn-sm btn-primary" asp-action="Update" asp-route-id="@rol.Id"><i class="fa-solid fa-pen-to-square"></i></a>
                <form asp-action="Delete" asp-route-id="@rol.Id" method="post" style="display:inline";>
                    <button type="submit" class="btn btn-sm btn-danger">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                    <a class="btn btn-sm btn-success" asp-action="" asp-route-id=""><i class="fa-solid fa-eye"></i></a>
                </form>
            </td>
            <td>@rol.Id</td>
            <td>@rol.Name</td>
            <td i-role="@rol.Id"></td>
        </tr>
    }
</table>

<div class="button-container">
    <a asp-action="Create" class="btn btn-info btn-info-custom">Crear un Rol</a>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://kit.fontawesome.com/9c9ff965bd.js" crossorigin="anonymous"></script>

<script>
    $(document).ready(function () {
        $("#searchInput").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            var rows = $("#myTable tbody tr");
            var noResults = $("#noResults");

            var found = false;
            rows.each(function () {
                var row = $(this);
                if (row.text().toLowerCase().indexOf(value) > -1) {
                    row.show();
                    found = true;
                } else {
                    row.hide();
                }
            });

            // Show or hide the "No results" row based on whether any rows were found
            if (found) {
                noResults.hide();
            } else {
                noResults.show();
            }
        });
    });
</script>